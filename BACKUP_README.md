# è¼¸é€è¦‹ç©ã‚‚ã‚Šã‚·ã‚¹ãƒ†ãƒ  - å®Œå…¨ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æƒ…å ±

**ä½œæˆæ—¥æ™‚**: 2025å¹´10æœˆ16æ—¥ 11:50:13
**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ™‚ç‚¹ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿é€£å‹•ä¿®æ­£å®Œäº†ç‰ˆ

## ğŸ“‹ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å†…å®¹

### âœ… **ä¿®æ­£æ¸ˆã¿æ©Ÿèƒ½**
- **Step4/5/6ã®APIçµ±ä¸€åŒ–**: å…¨ã‚¹ãƒ†ãƒƒãƒ—ã§ `/master-settings` APIä½¿ç”¨
- **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åçµ±ä¸€**: `parking_officer_hourly` ã§çµ±ä¸€
- **ã‚¹ã‚¿ãƒƒãƒ•å˜ä¾¡**: 40,000å††ï¼ˆã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼ï¼‰ã§çµ±ä¸€
- **å·®é¡å•é¡Œè§£æ±º**: Step5ã¨Step6ã®è¨ˆç®—å€¤ãŒä¸€è‡´

### ğŸ—ƒï¸ **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«**

#### **1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰å…¨ä½“**
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `webapp_complete_backup_20251016_115013.tar.gz`
- **URL**: https://page.gensparksite.com/project_backups/webapp_complete_backup_20251016_115013.tar.gz
- **ã‚µã‚¤ã‚º**: 4.1MB
- **å†…å®¹**: å…¨ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€ä¾å­˜é–¢ä¿‚

#### **2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—**
- **å ´æ‰€**: `database_backup/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- **ã‚¹ã‚­ãƒ¼ãƒ**: `schema.sql`
- **ãƒ‡ãƒ¼ã‚¿**: å„ãƒ†ãƒ¼ãƒ–ãƒ«ã®JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
  - `master_settings_data.json`
  - `customers_data.json` 
  - `projects_data.json`
  - `estimates_data.json`
- **SQLiteãƒ•ã‚¡ã‚¤ãƒ«**: `sqlite_files/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

#### **3. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**
- **å ´æ‰€**: `config_backup/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- **ãƒ•ã‚¡ã‚¤ãƒ«**: 
  - `wrangler.jsonc` - Cloudflareè¨­å®š
  - `package.json` - ä¾å­˜é–¢ä¿‚
  - `tsconfig.json` - TypeScriptè¨­å®š
  - `vite.config.ts` - Viteãƒ“ãƒ«ãƒ‰è¨­å®š
  - `ecosystem.config.cjs` - PM2è¨­å®š
  - `.gitignore` - Gité™¤å¤–è¨­å®š

## ğŸ”„ **å¾©å…ƒæ‰‹é †**

### **1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ¼ãƒ‰ã®å¾©å…ƒ**
```bash
# ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
wget https://page.gensparksite.com/project_backups/webapp_complete_backup_20251016_115013.tar.gz

# å±•é–‹
tar -xzf webapp_complete_backup_20251016_115013.tar.gz

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd webapp && npm install

# ãƒ“ãƒ«ãƒ‰
npm run build

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pm2 start ecosystem.config.cjs
```

### **2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å¾©å…ƒ**
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
npx wrangler d1 migrations apply transport-estimate-production --local

# ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
# SQLãƒ•ã‚¡ã‚¤ãƒ«ã¾ãŸã¯JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å¾©å…ƒ
```

### **3. ç’°å¢ƒç¢ºèª**
- URL: http://localhost:3000
- Step4-6ã®å‹•ä½œç¢ºèª
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®ä¸€è‡´ç¢ºèª

## ğŸ›¡ï¸ **é‡è¦ãªä¿®æ­£å†…å®¹**

### **APIçµ±ä¸€åŒ–**
- Step5: `/master-settings` APIä½¿ç”¨
- Step6: `/master-settings` APIä½¿ç”¨ï¼ˆ`/service-rates` ã‹ã‚‰å¤‰æ›´ï¼‰

### **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åçµ±ä¸€**  
- `parking_officer_hourly` ã§å…¨ã‚¹ãƒ†ãƒƒãƒ—çµ±ä¸€
- `parking_officer_hourly_rate` ã¯ä½¿ç”¨ã—ãªã„

### **å˜ä¾¡ã®ä¸€è‡´**
- ã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒã‚¤ã‚¶ãƒ¼: 40,000å††/æ—¥
- é§è»Šå¯¾ç­–å“¡: 3,000å††/æ™‚é–“
- ä»–å…¨ã‚µãƒ¼ãƒ“ã‚¹é …ç›®: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã¨ä¸€è‡´

## ğŸ“ **ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®å¯¾å¿œ**

1. **ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•å¤±æ•—æ™‚**:
   ```bash
   fuser -k 3000/tcp
   pm2 delete all
   npm run build
   pm2 start ecosystem.config.cjs
   ```

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å•é¡Œæ™‚**:
   ```bash
   rm -rf .wrangler/state/v3/d1
   npx wrangler d1 migrations apply transport-estimate-production --local
   ```

3. **ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼æ™‚**:
   ```bash
   rm -rf node_modules dist
   npm install
   npm run build
   ```

---
**ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆè€…**: AI Assistant
**ç¢ºèªæ¸ˆã¿æ©Ÿèƒ½**: ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿é€£å‹•ã€Step4-6çµ±ä¸€æ€§ã€å·®é¡å•é¡Œè§£æ±º